{"ast":null,"code":"import _classCallCheck from \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\final-final\\\\guyzygyweb-master\\\\frontend\\\\src\\\\components\\\\login.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Popup from \"reactjs-popup\";\nimport SignUp from './signup.js';\nimport $ from 'jquery';\nimport localStorage from 'localStorage';\nimport sha256 from 'sha256';\nvar contentStyle = {\n  maxWidth: \"600px\",\n  width: \"90%\"\n};\n\nvar login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(login, _Component);\n\n  function login(props) {\n    _classCallCheck(this, login);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(login).call(this, props));\n  }\n\n  _createClass(login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var endpoint_API = \"http://quyzygy.us/\";\n      $(window).on('load', function () {\n        $(\"#loginButton\").on('click', function () {\n          var hash = sha256($(\"#passwordBox\").val());\n          $.ajax({\n            url: endpoint_API + \"login?email=\" + $(\"#emailBox\").val() + \"&passwordHash=\" + hash,\n            type: \"POST\",\n            crossDomain: true,\n            success: function success(response) {\n              console.log(response);\n              localStorage.setItem('email', $(\"#emailBox\").val());\n              updateLocalStorage(response);\n              localStorageDemo();\n              var StateUserType = localStorage.getItem('userType');\n\n              if (StateUserType === 'Student') {\n                window.location.replace('/studentPage');\n              }\n\n              if (StateUserType === 'Professor') {\n                window.location.replace('/profPage');\n              }\n            },\n            error: function error(xhr, status) {\n              alert(\"error\");\n            }\n          });\n        });\n        localStorageDemo();\n      });\n\n      function updateLocalStorage(loginData) {\n        localStorage.setItem('sk', loginData[\"secretKey\"]);\n        localStorage.setItem('userType', loginData['userType']);\n      }\n\n      function getLocalStorage() {\n        var x = {};\n        x['sk'] = localStorage.getItem('sk');\n        x['userType'] = localStorage.getItem('userType');\n        return x;\n      }\n\n      function localStorageDemo() {\n        $(\"#localStorageDemo\").html(JSON.stringify(getLocalStorage()));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"LogIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"loginForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"exampleEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        id: \"emailBox\",\n        type: \"text\",\n        placeholder: \"name@csie.ase.ro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"examplePassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        id: \"passwordBox\",\n        type: \"password\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        className: \"btnClk logBtn\",\n        id: \"loginButton\",\n        type: \"button\",\n        value: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"Hh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Don't have an account?\"), React.createElement(Popup, {\n        trigger: React.createElement(\"button\", {\n          className: \"btnClk logBtn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \" Register! \"),\n        modal: true,\n        contentStyle: contentStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, function (close) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(SignUp, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          className: \"close\",\n          onClick: close,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"\\xD7\"));\n      })));\n    }\n  }]);\n\n  return login;\n}(Component);\n\nexport default login;","map":{"version":3,"sources":["C:\\final-final\\guyzygyweb-master\\frontend\\src\\components\\login.js"],"names":["React","Component","Popup","SignUp","$","localStorage","sha256","contentStyle","maxWidth","width","login","props","endpoint_API","window","on","hash","val","ajax","url","type","crossDomain","success","response","console","log","setItem","updateLocalStorage","localStorageDemo","StateUserType","getItem","location","replace","error","xhr","status","alert","loginData","getLocalStorage","x","html","JSON","stringify","close"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,OADO;AAEjBC,EAAAA,KAAK,EAAE;AAFU,CAArB;;IAKMC,K;;;;;AAEF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA,8EACTA,KADS;AAElB;;;;yCAEoB;AAEjB,UAAIC,YAAY,GAAG,oBAAnB;AAEAR,MAAAA,CAAC,CAACS,MAAD,CAAD,CAAUC,EAAV,CAAa,MAAb,EAAqB,YAAY;AAC7BV,QAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBU,EAAlB,CAAqB,OAArB,EAA8B,YAAY;AACtC,cAAIC,IAAI,GAAGT,MAAM,CAACF,CAAC,CAAC,cAAD,CAAD,CAAkBY,GAAlB,EAAD,CAAjB;AACAZ,UAAAA,CAAC,CAACa,IAAF,CAAO;AACHC,YAAAA,GAAG,EAAEN,YAAY,GAAG,cAAf,GAAgCR,CAAC,CAAC,WAAD,CAAD,CAAeY,GAAf,EAAhC,GAAuD,gBAAvD,GAA0ED,IAD5E;AAEHI,YAAAA,IAAI,EAAE,MAFH;AAGHC,YAAAA,WAAW,EAAE,IAHV;AAIHC,YAAAA,OAAO,EAAE,iBAAUC,QAAV,EAAoB;AACzBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAjB,cAAAA,YAAY,CAACoB,OAAb,CAAqB,OAArB,EAA8BrB,CAAC,CAAC,WAAD,CAAD,CAAeY,GAAf,EAA9B;AACAU,cAAAA,kBAAkB,CAACJ,QAAD,CAAlB;AACAK,cAAAA,gBAAgB;AAChB,kBAAIC,aAAa,GAAGvB,YAAY,CAACwB,OAAb,CAAqB,UAArB,CAApB;;AACA,kBAAID,aAAa,KAAK,SAAtB,EAAiC;AAC7Bf,gBAAAA,MAAM,CAACiB,QAAP,CAAgBC,OAAhB,CAAwB,cAAxB;AACH;;AACD,kBAAIH,aAAa,KAAK,WAAtB,EAAmC;AAC/Bf,gBAAAA,MAAM,CAACiB,QAAP,CAAgBC,OAAhB,CAAwB,WAAxB;AACH;AACJ,aAhBE;AAiBHC,YAAAA,KAAK,EAAE,eAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC1BC,cAAAA,KAAK,CAAC,OAAD,CAAL;AACH;AAnBE,WAAP;AAqBH,SAvBD;AAwBAR,QAAAA,gBAAgB;AACnB,OA1BD;;AA4BA,eAASD,kBAAT,CAA4BU,SAA5B,EAAuC;AACnC/B,QAAAA,YAAY,CAACoB,OAAb,CAAqB,IAArB,EAA2BW,SAAS,CAAC,WAAD,CAApC;AACA/B,QAAAA,YAAY,CAACoB,OAAb,CAAqB,UAArB,EAAiCW,SAAS,CAAC,UAAD,CAA1C;AACH;;AAED,eAASC,eAAT,GAA2B;AACvB,YAAIC,CAAC,GAAG,EAAR;AACAA,QAAAA,CAAC,CAAC,IAAD,CAAD,GAAUjC,YAAY,CAACwB,OAAb,CAAqB,IAArB,CAAV;AACAS,QAAAA,CAAC,CAAC,UAAD,CAAD,GAAgBjC,YAAY,CAACwB,OAAb,CAAqB,UAArB,CAAhB;AAEA,eAAOS,CAAP;AACH;;AAED,eAASX,gBAAT,GAA4B;AACxBvB,QAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBmC,IAAvB,CAA4BC,IAAI,CAACC,SAAL,CAAeJ,eAAe,EAA9B,CAA5B;AACH;AACJ;;;6BAEQ;AAEL,aACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAO,QAAA,EAAE,EAAC,UAAV;AAAqB,QAAA,IAAI,EAAC,MAA1B;AAAiC,QAAA,WAAW,EAAC,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAKI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,OAAO,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAO,QAAA,EAAE,EAAC,aAAV;AAAwB,QAAA,IAAI,EAAC,UAA7B;AAAwC,QAAA,WAAW,EAAC,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CALJ,EASI;AAAO,QAAA,SAAS,EAAC,eAAjB;AAAiC,QAAA,EAAE,EAAC,aAApC;AAAkD,QAAA,IAAI,EAAC,QAAvD;AAAgE,QAAA,KAAK,EAAC,OAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATJ,CAFJ,EAcI;AAAG,QAAA,SAAS,EAAC,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAdJ,EAgBI,oBAAC,KAAD;AACI,QAAA,OAAO,EAAE;AAAQ,UAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADb;AAEI,QAAA,KAAK,MAFT;AAGI,QAAA,YAAY,EAAE9B,YAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIK,UAAAmC,KAAK;AAAA,eACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAG,UAAA,SAAS,EAAC,OAAb;AAAqB,UAAA,OAAO,EAAEA,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CADE;AAAA,OAJV,CAhBJ,CADJ,CADJ;AAmCH;;;;EA7FezC,S;;AAgGpB,eAAeS,KAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Popup from \"reactjs-popup\";\r\nimport SignUp from './signup.js';\r\nimport $ from 'jquery';\r\nimport localStorage from 'localStorage';\r\nimport sha256 from 'sha256';\r\n\r\nconst contentStyle = {\r\n    maxWidth: \"600px\",\r\n    width: \"90%\"\r\n};\r\n\r\nclass login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        var endpoint_API = \"http://quyzygy.us/\";\r\n\r\n        $(window).on('load', function () {\r\n            $(\"#loginButton\").on('click', function () {\r\n                let hash = sha256($(\"#passwordBox\").val());\r\n                $.ajax({\r\n                    url: endpoint_API + \"login?email=\" + $(\"#emailBox\").val() + \"&passwordHash=\" + hash,\r\n                    type: \"POST\",\r\n                    crossDomain: true,\r\n                    success: function (response) {\r\n                        console.log(response);\r\n                        localStorage.setItem('email', $(\"#emailBox\").val());\r\n                        updateLocalStorage(response);\r\n                        localStorageDemo();\r\n                        let StateUserType = localStorage.getItem('userType');\r\n                        if (StateUserType === 'Student') {\r\n                            window.location.replace('/studentPage');\r\n                        }\r\n                        if (StateUserType === 'Professor') {\r\n                            window.location.replace('/profPage');\r\n                        }\r\n                    },\r\n                    error: function (xhr, status) {\r\n                        alert(\"error\");\r\n                    }\r\n                });\r\n            });\r\n            localStorageDemo();\r\n        });\r\n\r\n        function updateLocalStorage(loginData) {\r\n            localStorage.setItem('sk', loginData[\"secretKey\"]);\r\n            localStorage.setItem('userType', loginData['userType']);\r\n        }\r\n\r\n        function getLocalStorage() {\r\n            var x = {};\r\n            x['sk'] = localStorage.getItem('sk');\r\n            x['userType'] = localStorage.getItem('userType');\r\n\r\n            return x;\r\n        }\r\n\r\n        function localStorageDemo() {\r\n            $(\"#localStorageDemo\").html(JSON.stringify(getLocalStorage()));\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"LogIn\">\r\n                <div id='loginForm'>\r\n\r\n                    <form>\r\n                        <div className='block'>\r\n                            <label htmlFor=\"exampleEmail\">Email</label>\r\n                            <input id=\"emailBox\" type=\"text\" placeholder=\"name@csie.ase.ro\"/>\r\n                        </div>\r\n                        <div className='block'>\r\n                            <label htmlFor=\"examplePassword\" >Password</label>\r\n                            <input id=\"passwordBox\" type=\"password\" placeholder=\"password\"/>\r\n                        </div>\r\n                        <input className='btnClk logBtn' id='loginButton' type=\"button\" value=\"Login\" />\r\n                    </form>\r\n\r\n                    <p className=\"Hh\">Don't have an account?</p>\r\n\r\n                    <Popup\r\n                        trigger={<button className=\"btnClk logBtn\"> Register! </button>}\r\n                        modal\r\n                        contentStyle={contentStyle}>\r\n                        {close => (\r\n                            <div>\r\n                                <SignUp/>\r\n                                <a className=\"close\" onClick={close}>\r\n                                    &times;\r\n                                </a>\r\n                            </div>\r\n                        )}\r\n                    </Popup>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default login;\r\n"]},"metadata":{},"sourceType":"module"}